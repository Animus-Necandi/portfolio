{% extends 'users.html.twig' %}

{% block title %}
	Données personnelles de
	{{app.user.firstname}}
	{{ app.user.name}}
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/axentix@1.1.0/dist/css/axentix.min.css"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"/>
{% endblock %}

{% block body %}
	<div class="grix xs4 container">
		{% for message in app.flashes('message') %}
			<div class="col-xs4">
				<div class="p-3 my-2 rounded-2 success">{{message}}</div>
			{% endfor %}
			<div class="col-xs4">
				<h1>Données personnelles de
					{{app.user.firstname}}
					{{ app.user.name}}</h1>
				<a href="{{ path('users_data_download') }}" class="btn shadow-1 rounded-1 blue">Télécharger les donnnées</a>
			</div>
			<div class="col-xs1">Nom :</div>
			<div class="col-xs3">{{app.user.name}}</div>
			<div class="col-xs1">Prénom :</div>
			<div class="col-xs3">{{app.user.firstname}}</div>
			<div class="col-xs1">Email :</div>
			<div class="col-xs3">{{app.user.email}}</div>
			<div class="col-xs4"></div>

			<div class="col-xs4">
				<h1>Annonces de
					{{app.user.firstname}}
					{{ app.user.name}}
					({{app.user.annonces|length }})</h1>

			</div>

			{% for annonce in app.user.annonces %}
				<div class="col-xs4 m-5 p-3 bd-solid bd-1">
					<div class="col-xs1">Titre :</div>
					<div class="col-xs3">{{annonce.title}}</div>
					<div class="col-xs1">Contenu :</div>
					<div class="col-xs3">{{annonce.content|raw}}</div>
					<div class="col-xs4 ">
						{% for image in annonce.images %}
							<img src="{{ asset('uploads/images/annonces/' ~ image.name)|imagine_filter('square') }}" alt="{{ annonce.title }}"/>
						{% endfor %}
					</div>
				</div>
			{% endfor %}


		</div>
	</div>
{% endblock %}
{# {% block javascripts %}
	<script src="https://cdn.jsdelivr.net/npm/axentix@1.1.0/dist/js/axentix.min.js"></script>
{% endblock %} #}
